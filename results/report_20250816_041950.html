
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>PPO Report - OOS</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    h1 { margin-bottom: 0; }
    .section { margin-top: 24px; }
    .grid { display: grid; grid-template-columns: 1fr; gap: 16px; }
    @media (min-width: 980px) { .grid { grid-template-columns: 1fr 1fr; } }
    .card { padding: 16px; border: 1px solid #eaeaea; border-radius: 8px; box-shadow: 0 1px 2px rgba(0,0,0,0.03); }
    table { width: 100%; font-size: 14px; }
    th, td { text-align: left; }
  </style>
</head>
<body>
  <h1>PPO Report - OOS</h1>
  <p><strong>Model:</strong> best_model_episode_0.pt | <strong>Window:</strong> 2025-07-28 13:00:00 → 2025-08-05 13:00:00</p>

  <div class="grid">
    <div class="card">
      <h2>Summary Metrics</h2>
      <table style='border-collapse:collapse;border:1px solid #ddd'><tr><th style='text-align:left;padding:6px 10px'>Window</th><td style='padding:6px 10px'>2025-07-28 13:00:00 → 2025-08-05 13:00:00</td></tr><tr><th style='text-align:left;padding:6px 10px'>Win Rate</th><td style='padding:6px 10px'>37.50%</td></tr><tr><th style='text-align:left;padding:6px 10px'>Composite</th><td style='padding:6px 10px'>15.81%</td></tr><tr><th style='text-align:left;padding:6px 10px'>Trades/Day</th><td style='padding:6px 10px'>1.136</td></tr><tr><th style='text-align:left;padding:6px 10px'>Profit Factor</th><td style='padding:6px 10px'>1.499</td></tr><tr><th style='text-align:left;padding:6px 10px'>Sortino</th><td style='padding:6px 10px'>7006576616831.602</td></tr><tr><th style='text-align:left;padding:6px 10px'>Calmar</th><td style='padding:6px 10px'>2051.280</td></tr><tr><th style='text-align:left;padding:6px 10px'>Max Drawdown</th><td style='padding:6px 10px'>0.08%</td></tr><tr><th style='text-align:left;padding:6px 10px'>SQN</th><td style='padding:6px 10px'>0.521</td></tr><tr><th style='text-align:left;padding:6px 10px'>Total Trades</th><td style='padding:6px 10px'>8</td></tr><tr><th style='text-align:left;padding:6px 10px'>Final Balance</th><td style='padding:6px 10px'>10009.99</td></tr></table>
    </div>
    <div class="card">
      <h2>Equity & Drawdown</h2>
      <div id="equity_chart" style="height:360px"></div>
      <div id="dd_chart" style="height:240px;margin-top:12px"></div>
    </div>
  </div>

  <div class="section card">
    <h2>Settings Overview</h2>
    <div class="grid">
      <div class="card">
        <h3>Data & Indicators</h3>
        <table style='border-collapse:collapse;border:1px solid #ddd'><tr><th style='text-align:left;padding:6px 10px'>Indicators</th><td style='padding:6px 10px'>VWAP, RSI</td></tr><tr><th style='text-align:left;padding:6px 10px'>VWAP Window</th><td style='padding:6px 10px'>24</td></tr><tr><th style='text-align:left;padding:6px 10px'>RSI Period</th><td style='padding:6px 10px'>14</td></tr><tr><th style='text-align:left;padding:6px 10px'>BBands Enabled</th><td style='padding:6px 10px'>False</td></tr><tr><th style='text-align:left;padding:6px 10px'>BB Window</th><td style='padding:6px 10px'>—</td></tr><tr><th style='text-align:left;padding:6px 10px'>BB K</th><td style='padding:6px 10px'>—</td></tr></table>
      </div>
      <div class="card">
        <h3>Environment & Algo</h3>
        <table style='border-collapse:collapse;border:1px solid #ddd'><tr><th style='text-align:left;padding:6px 10px'>Window Size (obs)</th><td style='padding:6px 10px'>96</td></tr><tr><th style='text-align:left;padding:6px 10px'>Grid Spacing</th><td style='padding:6px 10px'>0.0003</td></tr><tr><th style='text-align:left;padding:6px 10px'>Risk-Reward (RR)</th><td style='padding:6px 10px'>2.5</td></tr><tr><th style='text-align:left;padding:6px 10px'>Initial Balance</th><td style='padding:6px 10px'>10000.0</td></tr><tr><th style='text-align:left;padding:6px 10px'>Fixed $ Risk</th><td style='padding:6px 10px'>True</td></tr><tr><th style='text-align:left;padding:6px 10px'>Risk $/Trade</th><td style='padding:6px 10px'>4.0</td></tr><tr><th style='text-align:left;padding:6px 10px'>Hold Penalty (flat)</th><td style='padding:6px 10px'>-0.05</td></tr><tr><th style='text-align:left;padding:6px 10px'>Hold Penalty (open)</th><td style='padding:6px 10px'>-0.05</td></tr><tr><th style='text-align:left;padding:6px 10px'>Volatility Floor (min bb_width)</th><td style='padding:6px 10px'>0.01</td></tr><tr><th style='text-align:left;padding:6px 10px'>Low Vol Penalty</th><td style='padding:6px 10px'>-0.02</td></tr><tr><th style='text-align:left;padding:6px 10px'>VWAP Filter Enabled</th><td style='padding:6px 10px'>False</td></tr><tr><th style='text-align:left;padding:6px 10px'>VWAP Longs Only</th><td style='padding:6px 10px'>False</td></tr><tr><th style='text-align:left;padding:6px 10px'>SL/TP Only Exit</th><td style='padding:6px 10px'>True</td></tr><tr><th style='text-align:left;padding:6px 10px'>Optimize For Composite (train)</th><td style='padding:6px 10px'>False</td></tr></table>
      </div>
    </div>
    <div class="grid" style="margin-top:12px">
      <div class="card">
        <h3>Composite Metric</h3>
        <table style='border-collapse:collapse;border:1px solid #ddd'><tr><th style='text-align:left;padding:6px 10px'>Weights</th><td style='padding:6px 10px'>Sortino 0.24, Calmar 0.20, ProfitFactor 0.18, WinRate 0.16, 1/(1+MDD) 0.07, Trades/Day 0.10, SQN 0.05</td></tr><tr><th style='text-align:left;padding:6px 10px'>Norm Caps</th><td style='padding:6px 10px'>Sortino≤2, Calmar≤3, PF≤2, SQN≤3; WinRate∈[0,1] ; Drawdown uses 1/(1+|MDD|)</td></tr><tr><th style='text-align:left;padding:6px 10px'>Activity Penalty</th><td style='padding:6px 10px'>If total_trades < 4, scale by total_trades/4</td></tr><tr><th style='text-align:left;padding:6px 10px'>Constraints</th><td style='padding:6px 10px'>Min Trades/Day≥3 (linear hinge), WinRate≥50% (quadratic hinge)</td></tr><tr><th style='text-align:left;padding:6px 10px'>Composite Scale</th><td style='padding:6px 10px'>Reported as % in Summary (0–100%)</td></tr></table>
      </div>
      <div class="card">
        <h3>PPO Hyperparameters</h3>
        <table style='border-collapse:collapse;border:1px solid #ddd'><tr><th style='text-align:left;padding:6px 10px'>Max Episode Steps</th><td style='padding:6px 10px'>500</td></tr><tr><th style='text-align:left;padding:6px 10px'>Learning Rate</th><td style='padding:6px 10px'>0.0003</td></tr><tr><th style='text-align:left;padding:6px 10px'>Gamma</th><td style='padding:6px 10px'>0.99</td></tr><tr><th style='text-align:left;padding:6px 10px'>GAE Lambda</th><td style='padding:6px 10px'>0.95</td></tr><tr><th style='text-align:left;padding:6px 10px'>Clip Epsilon</th><td style='padding:6px 10px'>0.2</td></tr><tr><th style='text-align:left;padding:6px 10px'>Entropy Coef</th><td style='padding:6px 10px'>0.01</td></tr><tr><th style='text-align:left;padding:6px 10px'>Value Coef</th><td style='padding:6px 10px'>0.5</td></tr><tr><th style='text-align:left;padding:6px 10px'>Max Grad Norm</th><td style='padding:6px 10px'>0.5</td></tr><tr><th style='text-align:left;padding:6px 10px'>n_steps</th><td style='padding:6px 10px'>1024</td></tr><tr><th style='text-align:left;padding:6px 10px'>batch_size</th><td style='padding:6px 10px'>64</td></tr><tr><th style='text-align:left;padding:6px 10px'>n_epochs</th><td style='padding:6px 10px'>10</td></tr></table>
      </div>
    </div>
    <div class="card" style="margin-top:12px">
      <h3>Durations</h3>
      <table style='border-collapse:collapse;border:1px solid #ddd'><tr><th style='text-align:left;padding:6px 10px'>Evaluation Window</th><td style='padding:6px 10px'>2025-07-28 13:00:00 → 2025-08-05 13:00:00</td></tr><tr><th style='text-align:left;padding:6px 10px'>Window Duration (hours)</th><td style='padding:6px 10px'>192.00</td></tr><tr><th style='text-align:left;padding:6px 10px'>Eval Runtime (seconds)</th><td style='padding:6px 10px'>1.194</td></tr><tr><th style='text-align:left;padding:6px 10px'>Report Generated</th><td style='padding:6px 10px'>20250816_041950</td></tr><tr><th style='text-align:left;padding:6px 10px'>Mode</th><td style='padding:6px 10px'>oos</td></tr></table>
    </div>
  </div>

  <div class="section card">
    <h2>Trade-by-Trade</h2>
    <table style='border-collapse:collapse;border:1px solid #ddd'><thead><tr><th style='text-align:left;padding:6px 10px'>entry_time</th><th style='text-align:left;padding:6px 10px'>exit_time</th><th style='text-align:left;padding:6px 10px'>position_type</th><th style='text-align:left;padding:6px 10px'>entry_price</th><th style='text-align:left;padding:6px 10px'>exit_price</th><th style='text-align:left;padding:6px 10px'>pnl</th><th style='text-align:left;padding:6px 10px'>return_pct</th></tr></thead><tbody><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-02 20:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-02 21:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>short</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>112224.4084</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>112291.7532</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-4.0000</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-0.06%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-03 06:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-03 11:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>long</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>113613.0832</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>113783.6051</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>10.0105</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>0.15%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-03 15:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-03 16:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>short</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>113783.6051</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>113851.8855</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-4.0000</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-0.06%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-03 19:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-03 22:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>short</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>114365.2963</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>114433.9258</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-4.0000</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-0.06%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-04 03:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-04 04:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>short</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>114812.1247</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>114640.0614</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>9.9895</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>0.15%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-04 07:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-04 08:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>short</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>114433.9258</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>114502.5964</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-4.0000</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-0.06%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-04 23:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-05 00:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>short</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>115329.8656</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>115157.0264</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>9.9895</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>0.15%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-05 05:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-05 06:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>short</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>114330.9970</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>114399.6059</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-4.0000</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-0.06%</td></tr></tbody></table>
  </div>

  <script>
    const dts = ["2025-08-02 12:00:00", "2025-08-02 13:00:00", "2025-08-02 14:00:00", "2025-08-02 15:00:00", "2025-08-02 16:00:00", "2025-08-02 17:00:00", "2025-08-02 18:00:00", "2025-08-02 19:00:00", "2025-08-02 20:00:00", "2025-08-02 21:00:00", "2025-08-02 22:00:00", "2025-08-02 23:00:00", "2025-08-03 00:00:00", "2025-08-03 01:00:00", "2025-08-03 02:00:00", "2025-08-03 03:00:00", "2025-08-03 04:00:00", "2025-08-03 05:00:00", "2025-08-03 06:00:00", "2025-08-03 07:00:00", "2025-08-03 08:00:00", "2025-08-03 09:00:00", "2025-08-03 10:00:00", "2025-08-03 11:00:00", "2025-08-03 12:00:00", "2025-08-03 13:00:00", "2025-08-03 14:00:00", "2025-08-03 15:00:00", "2025-08-03 16:00:00", "2025-08-03 17:00:00", "2025-08-03 18:00:00", "2025-08-03 19:00:00", "2025-08-03 20:00:00", "2025-08-03 21:00:00", "2025-08-03 22:00:00", "2025-08-03 23:00:00", "2025-08-04 00:00:00", "2025-08-04 01:00:00", "2025-08-04 02:00:00", "2025-08-04 03:00:00", "2025-08-04 04:00:00", "2025-08-04 05:00:00", "2025-08-04 06:00:00", "2025-08-04 07:00:00", "2025-08-04 08:00:00", "2025-08-04 09:00:00", "2025-08-04 10:00:00", "2025-08-04 11:00:00", "2025-08-04 12:00:00", "2025-08-04 13:00:00", "2025-08-04 14:00:00", "2025-08-04 15:00:00", "2025-08-04 16:00:00", "2025-08-04 17:00:00", "2025-08-04 18:00:00", "2025-08-04 19:00:00", "2025-08-04 20:00:00", "2025-08-04 21:00:00", "2025-08-04 22:00:00", "2025-08-04 23:00:00", "2025-08-05 00:00:00", "2025-08-05 01:00:00", "2025-08-05 02:00:00", "2025-08-05 03:00:00", "2025-08-05 04:00:00", "2025-08-05 05:00:00", "2025-08-05 06:00:00", "2025-08-05 07:00:00", "2025-08-05 08:00:00", "2025-08-05 09:00:00", "2025-08-05 10:00:00", "2025-08-05 11:00:00", "2025-08-05 12:00:00", "2025-08-05 13:00:00"];
    const equity = [10000.0, 10000.0, 10000.0, 10000.0, 10000.0, 10000.0, 10000.0, 10000.0, 10000.0, 9996.0, 9996.0, 9996.0, 9996.0, 9996.0, 9996.0, 9996.0, 9996.0, 9996.0, 9996.0, 9996.0, 9996.0, 9996.0, 9996.0, 10006.010504726182, 10006.010504726182, 10006.010504726182, 10006.010504726182, 10006.010504726182, 10002.010504726182, 10002.010504726182, 10002.010504726182, 10002.010504726182, 10002.010504726182, 10002.010504726182, 9998.010504726182, 9998.010504726182, 9998.010504726182, 9998.010504726182, 9998.010504726182, 9998.010504726182, 10008.000012596221, 10008.000012596221, 10008.000012596221, 10008.000012596221, 10004.000012596221, 10004.000012596221, 10004.000012596221, 10004.000012596221, 10004.000012596221, 10004.000012596221, 10004.000012596221, 10004.000012596221, 10004.000012596221, 10004.000012596221, 10004.000012596221, 10004.000012596221, 10004.000012596221, 10004.000012596221, 10004.000012596221, 10004.000012596221, 10013.989520466263, 10013.989520466263, 10013.989520466263, 10013.989520466263, 10013.989520466263, 10013.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263, 10009.989520466263];
    const drawdown = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0004, 0.0004, 0.0004, 0.0004, 0.0004, 0.0004, 0.0004, 0.0004, 0.0004, 0.0004, 0.0004, 0.0004, 0.0004, 0.0004, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00039975972422881854, 0.00039975972422881854, 0.00039975972422881854, 0.00039975972422881854, 0.00039975972422881854, 0.00039975972422881854, 0.0007995194484576371, 0.0007995194484576371, 0.0007995194484576371, 0.0007995194484576371, 0.0007995194484576371, 0.0007995194484576371, 0.0, 0.0, 0.0, 0.0, 0.00039968025529232, 0.00039968025529232, 0.00039968025529232, 0.00039968025529232, 0.00039968025529232, 0.00039968025529232, 0.00039968025529232, 0.00039968025529232, 0.00039968025529232, 0.00039968025529232, 0.00039968025529232, 0.00039968025529232, 0.00039968025529232, 0.00039968025529232, 0.00039968025529232, 0.00039968025529232, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386, 0.00039944120091447386];

    if (equity && equity.length > 0) {
      const eqTrace = { x: dts.length === equity.length ? dts : Array.from({length: equity.length}, (_, i) => i), y: equity, mode: 'lines', name: 'Equity' };
      Plotly.newPlot('equity_chart', [eqTrace], { margin: { t: 30 }, xaxis: { title: 'Time' }, yaxis: { title: 'Balance' }, showlegend: false });
    } else {
      document.getElementById('equity_chart').innerHTML = '<p>No equity data available.</p>';
    }

    if (drawdown && drawdown.length > 0) {
      const ddTrace = { x: dts.length === drawdown.length ? dts : Array.from({length: drawdown.length}, (_, i) => i), y: drawdown.map(v => v * 100), mode: 'lines', name: 'Drawdown (%)' };
      Plotly.newPlot('dd_chart', [ddTrace], { margin: { t: 30 }, xaxis: { title: 'Time' }, yaxis: { title: 'Drawdown %' }, showlegend: false });
    } else {
      document.getElementById('dd_chart').innerHTML = '<p>No drawdown data available.</p>';
    }
  </script>
</body>
</html>
