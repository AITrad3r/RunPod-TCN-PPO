
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>PPO Report - BACKTEST</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    h1 { margin-bottom: 0; }
    .section { margin-top: 24px; }
    .grid { display: grid; grid-template-columns: 1fr; gap: 16px; }
    @media (min-width: 980px) { .grid { grid-template-columns: 1fr 1fr; } }
    .card { padding: 16px; border: 1px solid #eaeaea; border-radius: 8px; box-shadow: 0 1px 2px rgba(0,0,0,0.03); }
    table { width: 100%; font-size: 14px; }
    th, td { text-align: left; }
  </style>
</head>
<body>
  <h1>PPO Report - BACKTEST</h1>
  <p><strong>Model:</strong> best_model_episode_0.pt | <strong>Window:</strong> 2025-08-05 13:00:00 → 2025-08-12 13:00:00</p>

  <div class="grid">
    <div class="card">
      <h2>Summary Metrics</h2>
      <table style='border-collapse:collapse;border:1px solid #ddd'><tr><th style='text-align:left;padding:6px 10px'>Window</th><td style='padding:6px 10px'>2025-08-05 13:00:00 → 2025-08-12 13:00:00</td></tr><tr><th style='text-align:left;padding:6px 10px'>Win Rate</th><td style='padding:6px 10px'>47.37%</td></tr><tr><th style='text-align:left;padding:6px 10px'>Composite</th><td style='padding:6px 10px'>78.23%</td></tr><tr><th style='text-align:left;padding:6px 10px'>Trades/Day</th><td style='padding:6px 10px'>3.145</td></tr><tr><th style='text-align:left;padding:6px 10px'>Profit Factor</th><td style='padding:6px 10px'>2.251</td></tr><tr><th style='text-align:left;padding:6px 10px'>Sortino</th><td style='padding:6px 10px'>3657.868</td></tr><tr><th style='text-align:left;padding:6px 10px'>Calmar</th><td style='padding:6px 10px'>2175.231</td></tr><tr><th style='text-align:left;padding:6px 10px'>Max Drawdown</th><td style='padding:6px 10px'>0.16%</td></tr><tr><th style='text-align:left;padding:6px 10px'>SQN</th><td style='padding:6px 10px'>1.642</td></tr><tr><th style='text-align:left;padding:6px 10px'>Total Trades</th><td style='padding:6px 10px'>19</td></tr><tr><th style='text-align:left;padding:6px 10px'>Final Balance</th><td style='padding:6px 10px'>10050.03</td></tr></table>
    </div>
    <div class="card">
      <h2>Equity & Drawdown</h2>
      <div id="equity_chart" style="height:360px"></div>
      <div id="dd_chart" style="height:240px;margin-top:12px"></div>
    </div>
  </div>

  <div class="section card">
    <h2>Settings Overview</h2>
    <div class="grid">
      <div class="card">
        <h3>Data & Indicators</h3>
        <table style='border-collapse:collapse;border:1px solid #ddd'><tr><th style='text-align:left;padding:6px 10px'>Indicators</th><td style='padding:6px 10px'>VWAP, RSI</td></tr><tr><th style='text-align:left;padding:6px 10px'>VWAP Window</th><td style='padding:6px 10px'>24</td></tr><tr><th style='text-align:left;padding:6px 10px'>RSI Period</th><td style='padding:6px 10px'>14</td></tr><tr><th style='text-align:left;padding:6px 10px'>BBands Enabled</th><td style='padding:6px 10px'>False</td></tr><tr><th style='text-align:left;padding:6px 10px'>BB Window</th><td style='padding:6px 10px'>—</td></tr><tr><th style='text-align:left;padding:6px 10px'>BB K</th><td style='padding:6px 10px'>—</td></tr></table>
      </div>
      <div class="card">
        <h3>Environment & Algo</h3>
        <table style='border-collapse:collapse;border:1px solid #ddd'><tr><th style='text-align:left;padding:6px 10px'>Window Size (obs)</th><td style='padding:6px 10px'>96</td></tr><tr><th style='text-align:left;padding:6px 10px'>Grid Spacing</th><td style='padding:6px 10px'>0.0003</td></tr><tr><th style='text-align:left;padding:6px 10px'>Risk-Reward (RR)</th><td style='padding:6px 10px'>2.5</td></tr><tr><th style='text-align:left;padding:6px 10px'>Initial Balance</th><td style='padding:6px 10px'>10000.0</td></tr><tr><th style='text-align:left;padding:6px 10px'>Fixed $ Risk</th><td style='padding:6px 10px'>True</td></tr><tr><th style='text-align:left;padding:6px 10px'>Risk $/Trade</th><td style='padding:6px 10px'>4.0</td></tr><tr><th style='text-align:left;padding:6px 10px'>Hold Penalty (flat)</th><td style='padding:6px 10px'>-0.05</td></tr><tr><th style='text-align:left;padding:6px 10px'>Hold Penalty (open)</th><td style='padding:6px 10px'>-0.05</td></tr><tr><th style='text-align:left;padding:6px 10px'>Volatility Floor (min bb_width)</th><td style='padding:6px 10px'>0.01</td></tr><tr><th style='text-align:left;padding:6px 10px'>Low Vol Penalty</th><td style='padding:6px 10px'>-0.02</td></tr><tr><th style='text-align:left;padding:6px 10px'>VWAP Filter Enabled</th><td style='padding:6px 10px'>False</td></tr><tr><th style='text-align:left;padding:6px 10px'>VWAP Longs Only</th><td style='padding:6px 10px'>False</td></tr><tr><th style='text-align:left;padding:6px 10px'>SL/TP Only Exit</th><td style='padding:6px 10px'>True</td></tr><tr><th style='text-align:left;padding:6px 10px'>Optimize For Composite (train)</th><td style='padding:6px 10px'>False</td></tr></table>
      </div>
    </div>
    <div class="grid" style="margin-top:12px">
      <div class="card">
        <h3>Composite Metric</h3>
        <table style='border-collapse:collapse;border:1px solid #ddd'><tr><th style='text-align:left;padding:6px 10px'>Weights</th><td style='padding:6px 10px'>Sortino 0.24, Calmar 0.20, ProfitFactor 0.18, WinRate 0.16, 1/(1+MDD) 0.07, Trades/Day 0.10, SQN 0.05</td></tr><tr><th style='text-align:left;padding:6px 10px'>Norm Caps</th><td style='padding:6px 10px'>Sortino≤2, Calmar≤3, PF≤2, SQN≤3; WinRate∈[0,1] ; Drawdown uses 1/(1+|MDD|)</td></tr><tr><th style='text-align:left;padding:6px 10px'>Activity Penalty</th><td style='padding:6px 10px'>If total_trades < 4, scale by total_trades/4</td></tr><tr><th style='text-align:left;padding:6px 10px'>Constraints</th><td style='padding:6px 10px'>Min Trades/Day≥3 (linear hinge), WinRate≥50% (quadratic hinge)</td></tr><tr><th style='text-align:left;padding:6px 10px'>Composite Scale</th><td style='padding:6px 10px'>Reported as % in Summary (0–100%)</td></tr></table>
      </div>
      <div class="card">
        <h3>PPO Hyperparameters</h3>
        <table style='border-collapse:collapse;border:1px solid #ddd'><tr><th style='text-align:left;padding:6px 10px'>Max Episode Steps</th><td style='padding:6px 10px'>500</td></tr><tr><th style='text-align:left;padding:6px 10px'>Learning Rate</th><td style='padding:6px 10px'>0.0003</td></tr><tr><th style='text-align:left;padding:6px 10px'>Gamma</th><td style='padding:6px 10px'>0.99</td></tr><tr><th style='text-align:left;padding:6px 10px'>GAE Lambda</th><td style='padding:6px 10px'>0.95</td></tr><tr><th style='text-align:left;padding:6px 10px'>Clip Epsilon</th><td style='padding:6px 10px'>0.2</td></tr><tr><th style='text-align:left;padding:6px 10px'>Entropy Coef</th><td style='padding:6px 10px'>0.01</td></tr><tr><th style='text-align:left;padding:6px 10px'>Value Coef</th><td style='padding:6px 10px'>0.5</td></tr><tr><th style='text-align:left;padding:6px 10px'>Max Grad Norm</th><td style='padding:6px 10px'>0.5</td></tr><tr><th style='text-align:left;padding:6px 10px'>n_steps</th><td style='padding:6px 10px'>1024</td></tr><tr><th style='text-align:left;padding:6px 10px'>batch_size</th><td style='padding:6px 10px'>64</td></tr><tr><th style='text-align:left;padding:6px 10px'>n_epochs</th><td style='padding:6px 10px'>10</td></tr></table>
      </div>
    </div>
    <div class="card" style="margin-top:12px">
      <h3>Durations</h3>
      <table style='border-collapse:collapse;border:1px solid #ddd'><tr><th style='text-align:left;padding:6px 10px'>Evaluation Window</th><td style='padding:6px 10px'>2025-08-05 13:00:00 → 2025-08-12 13:00:00</td></tr><tr><th style='text-align:left;padding:6px 10px'>Window Duration (hours)</th><td style='padding:6px 10px'>168.00</td></tr><tr><th style='text-align:left;padding:6px 10px'>Eval Runtime (seconds)</th><td style='padding:6px 10px'>1.439</td></tr><tr><th style='text-align:left;padding:6px 10px'>Report Generated</th><td style='padding:6px 10px'>20250816_052903</td></tr><tr><th style='text-align:left;padding:6px 10px'>Mode</th><td style='padding:6px 10px'>backtest</td></tr></table>
    </div>
  </div>

  <div class="section card">
    <h2>Trade-by-Trade</h2>
    <table style='border-collapse:collapse;border:1px solid #ddd'><thead><tr><th style='text-align:left;padding:6px 10px'>entry_time</th><th style='text-align:left;padding:6px 10px'>exit_time</th><th style='text-align:left;padding:6px 10px'>position_type</th><th style='text-align:left;padding:6px 10px'>entry_price</th><th style='text-align:left;padding:6px 10px'>exit_price</th><th style='text-align:left;padding:6px 10px'>pnl</th><th style='text-align:left;padding:6px 10px'>return_pct</th></tr></thead><tbody><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-10 12:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-10 15:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>long</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>118342.1108</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>118519.7305</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>10.0105</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>0.15%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-10 16:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-10 18:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>short</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>118804.4767</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>118626.4303</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>9.9895</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>0.15%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-10 19:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-10 21:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>long</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>118555.2864</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>118484.1852</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-4.0000</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-0.06%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-10 22:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-10 23:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>long</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>118733.2261</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>118911.4328</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>10.0105</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>0.15%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-11 00:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-11 01:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>long</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>119304.4297</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>119232.8792</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-4.0000</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-0.06%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-11 02:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-11 03:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>long</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>119986.3041</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>120166.3916</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>10.0105</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>0.15%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-11 04:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-11 05:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>long</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>121726.3442</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>121909.0433</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>10.0105</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>0.15%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-11 06:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-11 07:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>long</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>122055.4000</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>122238.5929</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>10.0105</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>0.15%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-11 08:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-11 10:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>long</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>121543.9189</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>121471.0253</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-4.0000</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-0.06%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-11 11:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-11 12:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>long</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>121179.8880</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>121107.2128</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-4.0000</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-0.06%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-11 13:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-11 14:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>long</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>119626.9385</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>119806.4866</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>10.0105</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>0.15%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-11 15:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-11 16:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>short</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>120238.5023</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>120310.6562</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-4.0000</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-0.06%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-11 17:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-11 18:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>short</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>119950.3191</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>119770.5554</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>9.9895</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>0.15%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-11 19:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-11 20:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>long</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>119770.5554</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>119698.7254</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-4.0000</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-0.06%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-11 21:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-11 22:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>long</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>118840.1180</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>118768.8460</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-4.0000</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-0.06%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-11 23:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-12 00:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>long</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>118875.7701</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>118804.4767</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-4.0000</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-0.06%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-12 01:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-12 04:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>long</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>118947.1062</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>118875.7701</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-4.0000</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-0.06%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-12 05:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-12 06:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>short</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>119054.1908</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>118875.7701</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>9.9895</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>0.15%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-12 07:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-12 10:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>long</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>118840.1180</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>118768.8460</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-4.0000</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-0.06%</td></tr></tbody></table>
  </div>

  <script>
    const dts = ["2025-08-10 12:00:00", "2025-08-10 13:00:00", "2025-08-10 14:00:00", "2025-08-10 15:00:00", "2025-08-10 16:00:00", "2025-08-10 17:00:00", "2025-08-10 18:00:00", "2025-08-10 19:00:00", "2025-08-10 20:00:00", "2025-08-10 21:00:00", "2025-08-10 22:00:00", "2025-08-10 23:00:00", "2025-08-11 00:00:00", "2025-08-11 01:00:00", "2025-08-11 02:00:00", "2025-08-11 03:00:00", "2025-08-11 04:00:00", "2025-08-11 05:00:00", "2025-08-11 06:00:00", "2025-08-11 07:00:00", "2025-08-11 08:00:00", "2025-08-11 09:00:00", "2025-08-11 10:00:00", "2025-08-11 11:00:00", "2025-08-11 12:00:00", "2025-08-11 13:00:00", "2025-08-11 14:00:00", "2025-08-11 15:00:00", "2025-08-11 16:00:00", "2025-08-11 17:00:00", "2025-08-11 18:00:00", "2025-08-11 19:00:00", "2025-08-11 20:00:00", "2025-08-11 21:00:00", "2025-08-11 22:00:00", "2025-08-11 23:00:00", "2025-08-12 00:00:00", "2025-08-12 01:00:00", "2025-08-12 02:00:00", "2025-08-12 03:00:00", "2025-08-12 04:00:00", "2025-08-12 05:00:00", "2025-08-12 06:00:00", "2025-08-12 07:00:00", "2025-08-12 08:00:00", "2025-08-12 09:00:00", "2025-08-12 10:00:00", "2025-08-12 11:00:00", "2025-08-12 12:00:00", "2025-08-12 13:00:00"];
    const equity = [10000.0, 10000.0, 10000.0, 10010.010504726184, 10010.010504726184, 10010.010504726184, 10020.000012596227, 10020.000012596227, 10020.000012596227, 10016.000012596227, 10016.000012596227, 10026.010517322411, 10026.010517322411, 10022.010517322411, 10022.010517322411, 10032.021022048595, 10032.021022048595, 10042.031526774776, 10042.031526774776, 10052.042031500954, 10052.042031500954, 10052.042031500954, 10048.042031500954, 10048.042031500954, 10044.042031500954, 10044.042031500954, 10054.052536227138, 10054.052536227138, 10050.052536227138, 10050.052536227138, 10060.042044097177, 10060.042044097177, 10056.042044097177, 10056.042044097177, 10052.042044097177, 10052.042044097177, 10048.042044097177, 10048.042044097177, 10048.042044097177, 10048.042044097177, 10044.042044097177, 10044.042044097177, 10054.031551967217, 10054.031551967217, 10054.031551967217, 10054.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217, 10050.031551967217];
    const drawdown = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00039920159630454753, 0.00039920159630454753, 0.0, 0.0, 0.00039896227847447513, 0.00039896227847447513, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00039792909614433104, 0.00039792909614433104, 0.0007958581922886621, 0.0007958581922886621, 0.0, 0.0, 0.0003978495224276032, 0.0003978495224276032, 0.0, 0.0, 0.00039761265235934443, 0.00039761265235934443, 0.0007952253047186889, 0.0007952253047186889, 0.0011928379570780333, 0.0011928379570780333, 0.0011928379570780333, 0.0011928379570780333, 0.0015904506094373777, 0.0015904506094373777, 0.0005974619294446665, 0.0005974619294446665, 0.0005974619294446665, 0.0005974619294446665, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011, 0.000995074581804011];

    if (equity && equity.length > 0) {
      const eqTrace = { x: dts.length === equity.length ? dts : Array.from({length: equity.length}, (_, i) => i), y: equity, mode: 'lines', name: 'Equity' };
      Plotly.newPlot('equity_chart', [eqTrace], { margin: { t: 30 }, xaxis: { title: 'Time' }, yaxis: { title: 'Balance' }, showlegend: false });
    } else {
      document.getElementById('equity_chart').innerHTML = '<p>No equity data available.</p>';
    }

    if (drawdown && drawdown.length > 0) {
      const ddTrace = { x: dts.length === drawdown.length ? dts : Array.from({length: drawdown.length}, (_, i) => i), y: drawdown.map(v => v * 100), mode: 'lines', name: 'Drawdown (%)' };
      Plotly.newPlot('dd_chart', [ddTrace], { margin: { t: 30 }, xaxis: { title: 'Time' }, yaxis: { title: 'Drawdown %' }, showlegend: false });
    } else {
      document.getElementById('dd_chart').innerHTML = '<p>No drawdown data available.</p>';
    }
  </script>
</body>
</html>
