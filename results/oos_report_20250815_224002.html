
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>PPO Report - OOS</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    h1 { margin-bottom: 0; }
    .section { margin-top: 24px; }
    .grid { display: grid; grid-template-columns: 1fr; gap: 16px; }
    @media (min-width: 980px) { .grid { grid-template-columns: 1fr 1fr; } }
    .card { padding: 16px; border: 1px solid #eaeaea; border-radius: 8px; box-shadow: 0 1px 2px rgba(0,0,0,0.03); }
    table { width: 100%; font-size: 14px; }
    th, td { text-align: left; }
  </style>
</head>
<body>
  <h1>PPO Report - OOS</h1>
  <p><strong>Model:</strong> best_model_episode_0.pt | <strong>Window:</strong> 2025-07-28 13:00:00 → 2025-08-05 13:00:00</p>

  <div class="grid">
    <div class="card">
      <h2>Summary Metrics</h2>
      <table style='border-collapse:collapse;border:1px solid #ddd'><tr><th style='text-align:left;padding:6px 10px'>Window</th><td style='padding:6px 10px'>2025-07-28 13:00:00 → 2025-08-05 13:00:00</td></tr><tr><th style='text-align:left;padding:6px 10px'>Win Rate</th><td style='padding:6px 10px'>45.45%</td></tr><tr><th style='text-align:left;padding:6px 10px'>Composite</th><td style='padding:6px 10px'>35.30%</td></tr><tr><th style='text-align:left;padding:6px 10px'>Trades/Day</th><td style='padding:6px 10px'>0.000</td></tr><tr><th style='text-align:left;padding:6px 10px'>Profit Factor</th><td style='padding:6px 10px'>2.081</td></tr><tr><th style='text-align:left;padding:6px 10px'>Sortino</th><td style='padding:6px 10px'>2638.724</td></tr><tr><th style='text-align:left;padding:6px 10px'>Calmar</th><td style='padding:6px 10px'>1551.700</td></tr><tr><th style='text-align:left;padding:6px 10px'>Max Drawdown</th><td style='padding:6px 10px'>0.20%</td></tr><tr><th style='text-align:left;padding:6px 10px'>SQN</th><td style='padding:6px 10px'>1.123</td></tr><tr><th style='text-align:left;padding:6px 10px'>Total Trades</th><td style='padding:6px 10px'>11</td></tr><tr><th style='text-align:left;padding:6px 10px'>Final Balance</th><td style='padding:6px 10px'>0.00</td></tr></table>
    </div>
    <div class="card">
      <h2>Equity & Drawdown</h2>
      <div id="equity_chart" style="height:360px"></div>
      <div id="dd_chart" style="height:240px;margin-top:12px"></div>
    </div>
  </div>

  <div class="section card">
    <h2>Trade-by-Trade</h2>
    <table style='border-collapse:collapse;border:1px solid #ddd'><thead><tr><th style='text-align:left;padding:6px 10px'>entry_time</th><th style='text-align:left;padding:6px 10px'>exit_time</th><th style='text-align:left;padding:6px 10px'>position_type</th><th style='text-align:left;padding:6px 10px'>entry_price</th><th style='text-align:left;padding:6px 10px'>exit_price</th><th style='text-align:left;padding:6px 10px'>pnl</th><th style='text-align:left;padding:6px 10px'>return_pct</th></tr></thead><tbody><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-02 12:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-02 14:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>short</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>113783.6051</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>113613.0832</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>9.9895</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>0.15%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-03 06:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-03 08:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>short</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>113613.0832</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>113681.2613</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-4.0000</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-0.06%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-03 09:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-03 11:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>short</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>113681.2613</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>113749.4803</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-4.0000</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-0.06%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-03 15:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-03 16:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>short</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>113783.6051</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>113851.8855</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-4.0000</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-0.06%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-03 22:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-03 23:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>long</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>114433.9258</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>114365.2963</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-4.0000</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-0.06%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-04 00:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-04 01:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>short</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>114193.9026</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>114262.4293</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-4.0000</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-0.06%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-04 08:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-04 10:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>short</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>114640.0614</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>114468.2559</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>9.9895</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>0.15%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-04 14:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-04 15:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>short</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>114915.4866</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>114743.2684</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>9.9895</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>0.15%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-05 01:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-05 02:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>short</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>114881.0223</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>114708.8557</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>9.9895</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>0.15%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-05 03:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-05 04:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>short</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>114708.8557</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>114536.9472</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>9.9895</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>0.15%</td></tr><tr><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-05 08:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>2025-08-05 09:00:00</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>short</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>113954.3829</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>114022.7658</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-4.0000</td><td style='padding:6px 10px;border-top:1px solid #f0f0f0'>-0.06%</td></tr></tbody></table>
  </div>

  <script>
    const dts = ["2025-08-02 12:00:00", "2025-08-02 13:00:00", "2025-08-02 14:00:00", "2025-08-02 15:00:00", "2025-08-02 16:00:00", "2025-08-02 17:00:00", "2025-08-02 18:00:00", "2025-08-02 19:00:00", "2025-08-02 20:00:00", "2025-08-02 21:00:00", "2025-08-02 22:00:00", "2025-08-02 23:00:00", "2025-08-03 00:00:00", "2025-08-03 01:00:00", "2025-08-03 02:00:00", "2025-08-03 03:00:00", "2025-08-03 04:00:00", "2025-08-03 05:00:00", "2025-08-03 06:00:00", "2025-08-03 07:00:00", "2025-08-03 08:00:00", "2025-08-03 09:00:00", "2025-08-03 10:00:00", "2025-08-03 11:00:00", "2025-08-03 12:00:00", "2025-08-03 13:00:00", "2025-08-03 14:00:00", "2025-08-03 15:00:00", "2025-08-03 16:00:00", "2025-08-03 17:00:00", "2025-08-03 18:00:00", "2025-08-03 19:00:00", "2025-08-03 20:00:00", "2025-08-03 21:00:00", "2025-08-03 22:00:00", "2025-08-03 23:00:00", "2025-08-04 00:00:00", "2025-08-04 01:00:00", "2025-08-04 02:00:00", "2025-08-04 03:00:00", "2025-08-04 04:00:00", "2025-08-04 05:00:00", "2025-08-04 06:00:00", "2025-08-04 07:00:00", "2025-08-04 08:00:00", "2025-08-04 09:00:00", "2025-08-04 10:00:00", "2025-08-04 11:00:00", "2025-08-04 12:00:00", "2025-08-04 13:00:00", "2025-08-04 14:00:00", "2025-08-04 15:00:00", "2025-08-04 16:00:00", "2025-08-04 17:00:00", "2025-08-04 18:00:00", "2025-08-04 19:00:00", "2025-08-04 20:00:00", "2025-08-04 21:00:00", "2025-08-04 22:00:00", "2025-08-04 23:00:00", "2025-08-05 00:00:00", "2025-08-05 01:00:00", "2025-08-05 02:00:00", "2025-08-05 03:00:00", "2025-08-05 04:00:00", "2025-08-05 05:00:00", "2025-08-05 06:00:00", "2025-08-05 07:00:00", "2025-08-05 08:00:00", "2025-08-05 09:00:00", "2025-08-05 10:00:00", "2025-08-05 11:00:00", "2025-08-05 12:00:00", "2025-08-05 13:00:00"];
    const equity = [10000.0, 10000.0, 10009.989507870043, 10009.989507870043, 10009.989507870043, 10009.989507870043, 10009.989507870043, 10009.989507870043, 10009.989507870043, 10009.989507870043, 10009.989507870043, 10009.989507870043, 10009.989507870043, 10009.989507870043, 10009.989507870043, 10009.989507870043, 10009.989507870043, 10009.989507870043, 10009.989507870043, 10009.989507870043, 10005.989507870043, 10005.989507870043, 10005.989507870043, 10001.989507870043, 10001.989507870043, 10001.989507870043, 10001.989507870043, 10001.989507870043, 9997.989507870043, 9997.989507870043, 9997.989507870043, 9997.989507870043, 9997.989507870043, 9997.989507870043, 9997.989507870043, 9993.989507870043, 9993.989507870043, 9989.989507870043, 9989.989507870043, 9989.989507870043, 9989.989507870043, 9989.989507870043, 9989.989507870043, 9989.989507870043, 9989.989507870043, 9989.989507870043, 9999.979015740086, 9999.979015740086, 9999.979015740086, 9999.979015740086, 9999.979015740086, 10009.968523610127, 10009.968523610127, 10009.968523610127, 10009.968523610127, 10009.968523610127, 10009.968523610127, 10009.968523610127, 10009.968523610127, 10009.968523610127, 10009.968523610127, 10009.968523610127, 10019.95803148017, 10019.95803148017, 10029.94753935021, 10029.94753935021, 10029.94753935021, 10029.94753935021, 10029.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021, 10025.94753935021];
    const drawdown = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00039960081844792386, 0.00039960081844792386, 0.00039960081844792386, 0.0007992016368958477, 0.0007992016368958477, 0.0007992016368958477, 0.0007992016368958477, 0.0007992016368958477, 0.0011988024553437717, 0.0011988024553437717, 0.0011988024553437717, 0.0011988024553437717, 0.0011988024553437717, 0.0011988024553437717, 0.0011988024553437717, 0.0015984032737916955, 0.0015984032737916955, 0.0019980040922396194, 0.0019980040922396194, 0.0019980040922396194, 0.0019980040922396194, 0.0019980040922396194, 0.0019980040922396194, 0.0019980040922396194, 0.0019980040922396194, 0.0019980040922396194, 0.0010000502120493424, 0.0010000502120493424, 0.0010000502120493424, 0.0010000502120493424, 0.0010000502120493424, 2.0963318592470382e-06, 2.0963318592470382e-06, 2.0963318592470382e-06, 2.0963318592470382e-06, 2.0963318592470382e-06, 2.0963318592470382e-06, 2.0963318592470382e-06, 2.0963318592470382e-06, 2.0963318592470382e-06, 2.0963318592470382e-06, 2.0963318592470382e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805, 0.0003988056751350805];

    if (equity && equity.length > 0) {
      const eqTrace = { x: dts.length === equity.length ? dts : Array.from({length: equity.length}, (_, i) => i), y: equity, mode: 'lines', name: 'Equity' };
      Plotly.newPlot('equity_chart', [eqTrace], { margin: { t: 30 }, xaxis: { title: 'Time' }, yaxis: { title: 'Balance' }, showlegend: false });
    } else {
      document.getElementById('equity_chart').innerHTML = '<p>No equity data available.</p>';
    }

    if (drawdown && drawdown.length > 0) {
      const ddTrace = { x: dts.length === drawdown.length ? dts : Array.from({length: drawdown.length}, (_, i) => i), y: drawdown.map(v => v * 100), mode: 'lines', name: 'Drawdown (%)' };
      Plotly.newPlot('dd_chart', [ddTrace], { margin: { t: 30 }, xaxis: { title: 'Time' }, yaxis: { title: 'Drawdown %' }, showlegend: false });
    } else {
      document.getElementById('dd_chart').innerHTML = '<p>No drawdown data available.</p>';
    }
  </script>
</body>
</html>
